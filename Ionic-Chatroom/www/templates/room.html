<ion-header-bar class="bar-energized"
  align-title="center">
    <div class="buttons">
      <button class="button button-energized" ng-click="leftButtonTap()">
        <i class="icon ion-arrow-left-c"></i>
      </button>
    </div>
  <h1 class="title">{{room.title}}</h1>
</ion-header-bar>

<ion-view title="{{room.title}}">
  <ion-content
    scroll="true"
    animate-nav="true"
    >
    <ion-refresher on-refresh="onRefresh()"
      on-pulling="onRefreshOpening(amount)">
    </ion-refresher>

    <div ng-repeat="message in messages | orderBy:'created_at'" type="item-text-wrap" ng-show="message.content">
      <div class="item item-body message">
        <div class="row">
          <div class="col col-10 author">{{message.created_by}}</div>
          <div class="col content">{{message.content}}</div>
          <div class="col col-10 time">{{message.created_at | dateToday: 'short' }}</div>
        </div>
      </div>
    </div>
  </ion-content>

  <div class="bar bar-footer bar-stable" id="bar-footer-message-box">
    <div class="list list-inset">
      <form ui-keypress="{13:'submitAddMessage($event)'}" data-ng-submit="submitAddMessage()" >
        <label class="item item-input">
          <input type="text" placeholder="your message ..." data-ng-model="newMessage">
          <button class="button button-positive">Send</button>
        </label>
      </form>
    </div>
  </div>
</ion-view>